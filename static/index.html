<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Group Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Material 3 Design -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/shoelace.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/themes/light.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/themes/dark.css" />
  <link href="style.css" rel="stylesheet" />
</head>
<body>
  <sl-spinner style="display: block; margin: 100px auto;" id="loading"></sl-spinner>

  <div class="container" id="settings-container" style="display: none;">
    <h1 class="main-title">âš™ï¸ Group Settings</h1>

    <!-- BioMode Section -->
    <div class="settings-section">
      <div class="section-header" onclick="toggleSection('biomode')">
        <div class="section-title">
          <span class="section-icon">ğŸ›¡ï¸</span>
          <span>BioMode</span>
        </div>
        <span class="expand-icon" id="biomode-icon">â–¼</span>
      </div>

      <div class="section-content" id="biomode-content">
        <div class="section-description">
          <p><strong>ğŸ›¡ï¸ BioMode</strong> monitors user bios and deletes messages if they contain URLs.</p>
          <p class="warning">ğŸš« When enabled, users with links in their bios won't be able to send messages.</p>
          <p class="admin-note">ğŸ‘® Only admins can enable or disable this feature.</p>
        </div>

        <div class="control-group">
          <sl-switch id="biomode-switch">Enable BioMode</sl-switch>
        </div>
      </div>
    </div>

    <!-- Echo Settings Section -->
    <div class="settings-section">
      <div class="section-header" onclick="toggleSection('echo')">
        <div class="section-title">
          <span class="section-icon">ğŸ“</span>
          <span>Echo Settings</span>
        </div>
        <span class="expand-icon" id="echo-icon">â–¼</span>
      </div>

      <div class="section-content" id="echo-content">
        <div class="section-description">
          <p><strong>ğŸ“ Echo Mode</strong> sends back the provided text. Also allows setting how the bot handles long messages.</p>

          <div class="usage-info">
            <p><strong>Mode Settings:</strong></p>
            <p>â€¢ <strong>Off</strong> â€“ Bot will no longer handle long messages</p>
            <p>â€¢ <strong>Manual</strong> â€“ Bot will delete long messages greater than longlimit</p>
            <p>â€¢ <strong>Automatic</strong> â€“ Bot will delete messages greater than longlimit, paste it on telegraph and send back</p>
          </div>

          <p><strong>Long Limit:</strong> From 200 to 4000 characters (default: 800)</p>
        </div>

        <div class="control-group">
          <sl-select id="longmode-select" label="Long Message Mode">
            <sl-option value="off">Off</sl-option>
            <sl-option value="manual">Manual</sl-option>
            <sl-option value="automatic">Automatic</sl-option>
          </sl-select>

          <sl-input id="longlimit-input" type="number" label="Long Message Limit (200â€“4000)" min="200" max="4000"></sl-input>
        </div>
      </div>
    </div>

    <!-- Link Filter Section -->
    <div class="settings-section">
      <div class="section-header" onclick="toggleSection('linkfilter')">
        <div class="section-title">
          <span class="section-icon">ğŸ”—</span>
          <span>Link Filter</span>
        </div>
        <span class="expand-icon" id="linkfilter-icon">â–¼</span>
      </div>

      <div class="section-content" id="linkfilter-content">
        <div class="section-description">
          <p><strong>ğŸ”— LinkFilter</strong> allows admins to restrict messages containing unapproved links.</p>

          <div class="usage-info">
            <p><strong>Mode Settings:</strong></p>
            <p>â€¢ <strong>On</strong> â€“ Bot will watch for all messages. If they contain direct links except whitelisted, bot will delete</p>
            <p>â€¢ <strong>Off</strong> â€“ No deletions</p>
          </div>

          <p><strong>Add/Delete Links:</strong> Here you can add/delete domains directly by contacting backend</p>
          <p class="warning">ğŸš« Messages with links not in the allowed list will be automatically deleted.</p>
          <p class="admin-note">ğŸ‘® Only admins can configure this filter.</p>
        </div>

        <div class="control-group">
          <sl-switch id="linkfilter-switch">Enable Link Filter</sl-switch>

          <div class="domain-input-group">
            <sl-input id="allow-domain-input" placeholder="example.com" label="Add Allowed Domain"></sl-input>
            <sl-button id="allow-btn" variant="primary">Add Domain</sl-button>
          </div>

          <div class="domains-table-container">
            <table class="domains-table">
              <thead>
                <tr>
                  <th>Allowed Domains</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="allowed-links-body"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>


  </div>

  <script src="https://telegram.org/js/telegram-web-app.js?58"></script>
  <script src="app.js"></script>
</body>
</html>