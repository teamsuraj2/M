<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Group Settings</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Material 3 Design -->
        <script
            type="module"
            src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/shoelace.js"
        ></script>
        <!-- <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/themes/light.css"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/themes/dark.css"
        /> -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        />
        <link href="style.css" rel="stylesheet" />
    </head>
    <body>
        <sl-spinner
            style="display: block; margin: 100px auto"
            id="loading"
        ></sl-spinner>

        <div id="main-content" style="display: none">
            <h1 class="main-title">‚öôÔ∏è Group Settings</h1>

            <!-- BioMode Section -->
            <div class="settings-section">
                <div class="section-header" onclick="toggleSection('biomode')">
                    <div class="section-title">
                        <span class="section-icon">üõ°Ô∏è</span>
                        <span>BioMode</span>
                    </div>
                    <span class="expand-icon" id="biomode-icon">‚ñº</span>
                </div>

                <div class="section-content" id="biomode-content">
                    <div class="section-description">
                        <p>
                            <strong>üõ°Ô∏è BioMode</strong> monitors user bios and
                            deletes their messages if the bio contains a URL.
                        </p>
                        <p class="warning">
                            üö´ When enabled, the bot will delete messages from
                            users who have links in their bios and warn them.
                        </p>
                    </div>

                    <div class="control-group">
                        <sl-switch id="biomode-switch"
                            >Enable BioMode</sl-switch
                        >
                    </div>
                </div>
            </div>

            <!-- Echo Settings Section -->
            <div class="settings-section">
                <div class="section-header" onclick="toggleSection('echo')">
                    <div class="section-title">
                        <span class="section-icon">üìù</span>
                        <span>Echo Settings</span>
                    </div>
                    <span class="expand-icon" id="echo-icon">‚ñº</span>
                </div>

                <div class="section-content" id="echo-content">
                    <div class="section-description">
                        <p>
                            <strong>üìÑ Long Mode</strong> echoes the provided
                            text and lets you configure how the bot handles long
                            messages.
                        </p>

                        <div class="usage-info">
                            <p><strong>Mode Settings:</strong></p>
                            <p>
                                ‚Ä¢ <strong>Off</strong> ‚Äì The bot will not take
                                any action on long messages.
                            </p>
                            <p>
                                ‚Ä¢ <strong>Manual</strong> ‚Äì The bot deletes
                                messages that exceed the long message limit and
                                warns the user to resend the message within the
                                allowed limit.
                            </p>
                            <p>
                                ‚Ä¢ <strong>Automatic</strong> ‚Äì The bot deletes
                                messages that exceed the long message limit,
                                uploads them to Telegraph, and sends the content
                                back.
                            </p>
                        </div>

                        <p>
                            <strong>Long Limit:</strong> Can be set between 200
                            and 4000 characters.
                        </p>
                    </div>

                    <div class="control-group">
                        <sl-select
                            id="longmode-select"
                            label="Long Message Mode"
                        >
                            <sl-option value="off">Off</sl-option>
                            <sl-option value="manual">Manual</sl-option>
                            <sl-option value="automatic">Automatic</sl-option>
                        </sl-select>

                        <sl-input
                            id="longlimit-input"
                            type="number"
                            label="Long Message Limit (200‚Äì4000)"
                            min="200"
                            max="4000"
                        ></sl-input>

                        <sl-button id="save-echo-btn" variant="primary"
                            >üíæ Save Echo Settings</sl-button
                        >
                    </div>
                </div>
            </div>

            <!-- Link Filter Section -->
            <div class="settings-section">
                <div
                    class="section-header"
                    onclick="toggleSection('linkfilter')"
                >
                    <div class="section-title">
                        <span class="section-icon">üîó</span>
                        <span>Link Filter</span>
                    </div>
                    <span class="expand-icon" id="linkfilter-icon">‚ñº</span>
                </div>

                <div class="section-content" id="linkfilter-content">
                    <div class="section-description">
                        <p>
                            <strong>üîó LinkFilter</strong> lets admins block
                            messages with unapproved links. The bot deletes any
                            non-whitelisted links automatically.
                        </p>

                        <div class="usage-info">
                            <p><strong>Mode Settings:</strong></p>
                            <p>
                                ‚Ä¢ <strong>On</strong> ‚Äì The bot will monitor all
                                messages. If a message contains a direct link
                                that is not whitelisted, the bot will delete it.
                            </p>
                            <p>
                                ‚Ä¢ <strong>Off</strong> ‚Äì The bot will not delete
                                any messages.
                            </p>
                        </div>

                        <p class="warning">
                            üö´ Messages containing links not in the allowed list
                            will be deleted. Telegram hyperlinks (e.g.,
                            <a href="https://www.google.com">Google</a>) are
                            always allowed and not filtered.
                        </p>
                    </div>

                    <div class="control-group">
                        <sl-switch id="linkfilter-switch"
                            >Enable Link Filter</sl-switch
                        >

                        <div class="domain-input-group">
                            <sl-input
                                id="allow-domain-input"
                                placeholder="example.com"
                                label="Add Allowed Domain"
                            ></sl-input>
                            <sl-button id="allow-btn" variant="primary"
                                >Add</sl-button
                            >
                        </div>

                        <div class="domains-list-container">
                            <div class="domains-list-header">
                                <span>Allowed Domains</span>
                            </div>
                            <div
                                class="domains-list"
                                id="allowed-links-list"
                            ></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://telegram.org/js/telegram-web-app.js?58"></script>
        <script src="app.js"></script>
    </body>
</html>
